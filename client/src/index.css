/* Custom fonts */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Source+Sans+Pro:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile scrolling improvements */
@media (max-width: 768px) {
  [data-radix-dialog-content] {
    max-height: 90vh !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: contain !important;
  }
  
  /* Ensure forms can scroll on mobile */
  .dialog-form {
    max-height: calc(90vh - 120px) !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Mobile Kanban Board Enhancements */
  .kanban-container {
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior-x: contain !important;
    scroll-snap-type: x proximity !important;
  }

  /* Enable smooth scrolling for mobile kanban columns */
  .kanban-container > div > div {
    scroll-snap-align: start !important;
    flex-shrink: 0 !important;
  }

  /* Enhanced touch targets for mobile */
  .touch-manipulation {
    touch-action: manipulation !important;
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    user-select: none !important;
  }
}

:root {
  --background: hsl(0, 0%, 98%);
  --foreground: hsl(186, 20%, 31%);
  --muted: hsl(210, 40%, 98%);
  --muted-foreground: hsl(25, 5.3%, 44.7%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(186, 20%, 31%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(186, 20%, 31%);
  --border: hsl(20, 5.9%, 90%);
  --input: hsl(20, 5.9%, 90%);
  --primary: hsl(20, 76%, 30%);
  --primary-foreground: hsl(60, 9.1%, 97.8%);
  --secondary: hsl(18, 61%, 52%);
  --secondary-foreground: hsl(24, 9.8%, 10%);
  --accent: hsl(28, 86%, 64%);
  --accent-foreground: hsl(20, 76%, 30%);
  --destructive: hsl(0, 84.2%, 60.2%);
  --destructive-foreground: hsl(60, 9.1%, 97.8%);
  --ring: hsl(20, 14.3%, 4.1%);
  --radius: 0.5rem;
  --success: hsl(115, 54%, 33%);
  --wood-50: hsl(34, 78%, 97%);
  --wood-100: hsl(28, 58%, 88%);
  --wood-200: hsl(28, 59%, 79%);
  --wood-300: hsl(18, 61%, 52%);
  --wood-400: hsl(20, 65%, 45%);
  --wood-500: hsl(20, 76%, 30%);
  --wood-600: hsl(20, 70%, 26%);
  --wood-700: hsl(20, 66%, 21%);
  --wood-800: hsl(20, 62%, 16%);
  --wood-900: hsl(20, 56%, 11%);
}

.dark {
  --background: hsl(240, 10%, 3.9%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsl(240, 3.7%, 15.9%);
  --muted-foreground: hsl(240, 5%, 64.9%);
  --popover: hsl(240, 10%, 3.9%);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsl(240, 10%, 3.9%);
  --card-foreground: hsl(0, 0%, 98%);
  --border: hsl(240, 3.7%, 15.9%);
  --input: hsl(240, 3.7%, 15.9%);
  --primary: hsl(20, 76%, 30%);
  --primary-foreground: hsl(60, 9.1%, 97.8%);
  --secondary: hsl(240, 3.7%, 15.9%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --accent: hsl(240, 3.7%, 15.9%);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(240, 4.9%, 83.9%);
  --radius: 0.5rem;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    font-family: 'Source Sans Pro', sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Playfair Display', serif;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background;
  }

  .btn-primary {
    @apply bg-primary text-primary-foreground hover:opacity-90 h-10 py-2 px-4;
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground hover:opacity-90 h-10 py-2 px-4;
  }

  .btn-ghost {
    @apply hover:bg-accent hover:text-accent-foreground h-10 py-2 px-4;
  }

  .wood-texture {
    background-image: linear-gradient(45deg, hsl(var(--wood-600)) 25%, transparent 25%), 
                      linear-gradient(-45deg, hsl(var(--wood-600)) 25%, transparent 25%), 
                      linear-gradient(45deg, transparent 75%, hsl(var(--wood-600)) 75%), 
                      linear-gradient(-45deg, transparent 75%, hsl(var(--wood-600)) 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
  }

  .sidebar-nav-item {
    @apply flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors;
  }

  .sidebar-nav-item-active {
    @apply bg-wood-700 text-white;
  }

  .sidebar-nav-item-inactive {
    @apply text-wood-100 hover:bg-wood-700;
  }

  .metric-card {
    @apply bg-white overflow-hidden shadow rounded-lg;
  }

  .metric-card-content {
    @apply p-5;
  }

  .metric-card-footer {
    @apply bg-gray-50 px-5 py-3;
  }

  .order-status-pending {
    @apply bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium;
  }

  .order-status-production {
    @apply bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium;
  }

  .order-status-ready {
    @apply bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium;
  }

  .order-status-completed {
    @apply bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium;
  }
}



/* Spacing utilities */
.space-y-5 > * + * {
  margin-top: 1.25rem;
}

.space-y-20 > * + * {
  margin-top: 5rem;
}

/* Animation utilities */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

/* AI Assistant specific styles */
.ai-assistant {
  @apply flex flex-col h-screen bg-background;
}

.ai-assistant-header {
  @apply flex items-center justify-between p-6 border-b border-border bg-card;
}

.chat-container {
  @apply flex-1 flex flex-col overflow-hidden;
}

.messages-container {
  @apply flex-1 overflow-y-auto p-6 space-y-4;
}

.message {
  @apply flex flex-col space-y-2;
}

.message.user {
  @apply items-end;
}

.message.assistant {
  @apply items-start;
}

.message-header {
  @apply flex items-center space-x-2;
}

.message-avatar {
  @apply w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center;
}

.message.user .message-avatar {
  @apply bg-secondary text-secondary-foreground;
}

.message-content {
  @apply max-w-3xl p-4 rounded-lg bg-card border;
}

.message.user .message-content {
  @apply bg-primary text-primary-foreground;
}

.input-container {
  @apply border-t border-border p-4 bg-card;
}

.input-wrapper {
  @apply flex items-end space-x-4;
}

.message-input {
  @apply flex-1 min-h-12 max-h-32 p-3 border border-border rounded-lg resize-none bg-background focus:outline-none focus:ring-2 focus:ring-primary;
}

.send-button {
  @apply p-3 bg-primary text-primary-foreground rounded-lg hover:opacity-90 disabled:opacity-50 transition-colors;
}

.capabilities-grid {
  @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4;
}

.capability-card {
  @apply p-4 border border-border rounded-lg cursor-pointer hover:bg-accent hover:opacity-10 transition-colors;
}

.capability-card.selected {
  @apply border-primary bg-primary opacity-5;
}

.typing-indicator {
  @apply flex space-x-1;
}

.typing-indicator span {
  @apply w-2 h-2 bg-gray-400 rounded-full animate-pulse;
}
